FROM bardend123/hdfs-hadoop-spark-base:v2

ARG SPARK_WORKER_PORT
ARG SPARK_MASTER_HOST
ARG SPARK_MASTER_PORT
ARG SPARK_HOME

ENV SPARK_WORKER_PORT=${SPARK_WORKER_PORT}
ENV SPARK_MASTER_HOST=${SPARK_MASTER_HOST}
ENV SPARK_MASTER_PORT=${SPARK_MASTER_PORT}
ENV SPARK_HOME=${SPARK_HOME}
ENV SPARK_WORKER_LOG=${SPARK_HOME}/logs


COPY run.sh /run.sh
RUN chmod +x /run.sh

EXPOSE 8081

CMD ["/run.sh"]